---
title: Blog Update Principles
date: 2025-09-25
category: Guide/Update
---
기존 블로그는 페이지가 하나의 긴 목록으로만 구성되어 있고, 카테고리도 단순히 버튼으로만 되어 있었다. 또한, post에서 수학식이나 이미지가 있을 때 제대로 표현되지 않는 문제가 있었다. 

1. Category Tree : 기존 카테고리를 기반으로 트리 형태의 사이드바를 제작

2.	동적 목록과 검색: 최신 글만 보여주는 것이 아니라 카테고리와 검색어에 따라 글을 필터링하고, 목록을 카드 형태로 예쁘게 표시한다.
3.	마크다운 확장: GitHub 저장소의 blogs/ 폴더에 있는 마크다운 파일을 동적으로 불러오고, 포스트 내의 이미지 경로를 자동으로 변환하고 LaTeX 수식을 렌더링한다.
4.	반응형 디자인: 데스크톱과 모바일에서 모두 자연스럽게 보이도록 레이아웃을 구성한다.

### GitHub API를 통한 컨텐츠 로딩

포스트 관리의 중심은 GitHub Pages와 GitHub API입니다. blog.html에서 다음과 같은 과정을 거쳐 게시글을 불러옵니다:
1.	리포지토리 탐색: https://api.github.com/repos/<사용자>/<저장소>/contents/blogs?ref=<브랜치> 에 요청을 보내 blogs/ 디렉터리의 파일과 폴더 목록을 가져옵니다. API 응답에는 각 항목의 type(파일/폴더), name, download_url 정보가 포함되어 있습니다.
2.	재귀적 탐색: 폴더(dir)인 경우에는 재귀적으로 함수를 호출해 더 깊은 디렉터리를 탐색하고, 마크다운(.md) 파일인 경우에는 내용을 가져옵니다. 이렇게 하면 폴더 구조 그대로 다단계 카테고리를 만들 수 있습니다.
3.	프런트 매터 파싱: 각 마크다운 파일의 앞부분에 ---로 구분된 YAML 블록이 있다면 이를 읽어 title, date, category/categories 값을 추출합니다. 배열 형태(categories: [A, B, C])도 지원하도록 문자열을 파싱합니다. 카테고리가 명시되지 않은 글은 디렉터리 경로를 카테고리로 사용합니다.
4.	마크다운 렌더링: 본문은 marked.js 라이브러리로 HTML로 변환하고, 임시 DOM을 통해 40단어 미리보기를 추출해 카드에 표시합니다.

### 카테고리 트리의 원리

프런트 매터에서 추출한 카테고리 경로를 /로 분할해 경로의 각 세그먼트를 트리 노드로 추가합니다. 예를 들어 categories: [AI/Optimization, Notes]라면
	•	AI > Optimization
	•	Notes

두 개의 노드 경로가 만들어집니다. 각 노드는 { name, path, children, posts } 구조로 저장하고, 해당 경로에 속하는 게시글의 인덱스를 posts 배열에 추가합니다. 이후 renderCategoryTree() 함수가 이 트리를 순회하며 사이드바를 생성합니다. 루트에는 All posts 항목을 두어 전체 글을 볼 수 있도록 하고, 첫 번째 ur은 CSS에서 display: block으로 보이게 하여 최상위 카테고리가 숨겨지는 문제를 해결했습니다.

카테고리 이름 옆에는 countPostsInNode()를 통해 계산한 글 개수를 뱃지로 표시하고, 클릭하면 currentCategoryPath를 갱신하여 글 목록을 필터링합니다. 트리 항목은 open 클래스를 이용해 자식 노드를 열고 닫을 수 있습니다.

### 검색과 정렬

검색어는 별도의 상태(searchQuery)로 관리하며, renderBlogFeed() 함수에서 글 제목·날짜·미리보기 텍스트를 대상으로 포함 여부를 검사합니다. 카테고리와 검색 필터를 모두 통과한 글들의 인덱스를 수집한 뒤, date 필드를 기준으로 내림차순 정렬해 카드 형태로 렌더링합니다. 정렬에 사용되는 날짜가 없을 때는 빈 문자열을 기본값으로 하여 오류를 방지합니다.

각 카드에는 제목, 날짜, 미리보기를 담고 Read more 버튼을 누르면 showPost() 함수가 실행되어 전체 글을 표시합니다. 글 보기 화면에서는 Back to Blog와 Back to Introduction 버튼을 제공해 탐색을 도와줍니다.

### 이미지와 수식 렌더링

마크다운에서 이미지 경로를 /static/img/...처럼 상대경로로 쓰는 경우, 그대로는 GitHub Pages에서 표시되지 않습니다. 이를 해결하기 위해 marked의 커스텀 렌더러를 정의했습니다. 이미지가 상대경로이고 http(s)나 data:로 시작하지 않으면 https://raw.githubusercontent.com/<username>/<repo>/<branch>/<path> 형식의 절대 경로로 변환하고, Bootstrap의 img-fluid my-3 클래스를 적용해 반응형으로 만듭니다.

수식은 MathJax 3.x의 TeX-MML-CHTML 모듈을 비동기로 로드하고, 인라인 수식($...$, \(...\))을 지원하도록 설정했습니다. 포스트를 표시한 후 MathJax.typesetPromise()를 호출해 수식을 렌더링하면 \sum a + b = 3 같은 표현이 제대로 보입니다.

### 스타일링과 반응형 레이아웃

프로젝트 카드와 갤러리, 블로그 목록 모두 Bootstrap 그리드 시스템을 기반으로 레이아웃을 구성했습니다. 카드에는 col-12 col-md-6 col-lg-4 클래스를 사용해 화면 크기에 따라 한 줄에 1~3개의 카드가 배치되고, 블로그 사이드바는 col-12 col-md-4 col-lg-3로 정의했습니다. 카테고리 트리에서 첫 번째 ul을 항상 표시하기 위해 .cat-tree > .cat-sublist { display: block; } 규칙을 추가했습니다.

### 마크다운 작성을 위한 규칙

모든 블로그 글은 blogs/ 폴더에 저장하고, 프런트 매터에 다음 필드를 포함하면 자동으로 분류·정렬됩니다:
	•	title: 글 제목
	•	date: YYYY-MM-DD 형식의 날짜 (정렬에 사용)
	•	category: 단일 카테고리 (예: AI)
	•	categories: 여러 카테고리를 배열로 지정 (["AI/Optimization", "Notes"])

글 파일명은 2025-10-01-world-models.md처럼 날짜와 제목을 포함하면 정렬과 검색에 도움이 됩니다.

### 마무리

이번 리뉴얼의 핵심은 GitHub API를 통한 동적 컨텐츠 로딩, 트리 구조 카테고리와 검색 기능, 마크다운 확장(이미지·수식), 그리고 반응형 UI였습니다. 이를 통해 블로그가 단순한 글 목록을 넘어 문서화 시스템에 가까운 역할을 하도록 개선되었습니다. 앞으로도 새로운 기능과 스타일을 추가하면서 더 편리한 개인 학습·연구 기록 공간으로 발전시킬 예정입니다.